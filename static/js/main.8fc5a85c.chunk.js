(this.webpackJsonpqrs=this.webpackJsonpqrs||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),i=n(38),r=n.n(i),s=(n(52),n(11)),o=(n(53),n(39)),d=n.n(o),u=n(1),l=function(e){var t=e.label,n=e.maxWidth,c=void 0===n?1920:n,i=e.maxHeight,r=void 0===i?1080:i,o=e.onChange,d=e.showImage,l=void 0===d||d,b=e.buttonClassName,g=void 0===b?"":b,h=Object(a.useState)(""),j=Object(s.a)(h,2),m=j[0],v=j[1];return Object(u.jsxs)("div",{className:"input-image",children:[l&&Object(u.jsx)("img",{className:"input-image--image",src:m}),Object(u.jsx)("button",{className:g,onClick:function(){var e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=function(e){var t=new FileReader;if(t.onload=function(){var e,n=(null===(e=t.result)||void 0===e?void 0:e.toString())||"",a=document.createElement("canvas"),i=a.getContext("2d");if(i){var s=new Image;s.onload=function(){var e=c,t=r,n=c/s.width,d=r/s.height;n>d?t=s.height*n:e=s.width*d,a.width=e,a.height=t,i.drawImage(s,0,0,e,t);var u=a.toDataURL();v(u),o(u)},s.src=n}},e&&e.target){var n=e.target;n.files&&t.readAsDataURL(n.files[0])}},e.click()},children:t})]})},b=(n(55),function(e){var t,n=e.onChange,i=document.createElement("canvas"),r=i.getContext("2d"),o=c.a.useRef(null),b=Object(a.useState)(null),g=Object(s.a)(b,2),h=g[0],j=g[1],m=Object(a.useState)(""),v=Object(s.a)(m,2),f=v[0],O=v[1],x=Object(a.useState)(!0),_=Object(s.a)(x,2),p=_[0],C=_[1],w=Object(a.useState)(""),k=Object(s.a)(w,2),N=k[0],S=k[1],y=Object(a.useState)(""),I=Object(s.a)(y,2),E=I[0],T=I[1],A=function(e,t,n){if(r){i.height=n,i.width=t,r.drawImage(e,0,0,t,n);var a=r.getImageData(0,0,t,n);try{var c=d()(a.data,a.width,a.height,{inversionAttempts:"dontInvert"});if(c)return O(c.data),!0}catch(N){if(!(N instanceof RangeError))throw N}}return!1},R=function e(){f||(h&&h.readyState===h.HAVE_ENOUGH_DATA&&A(h,h.videoHeight,h.videoWidth),t=setTimeout(e,200))};c.a.useEffect((function(){var e;o.current&&j(o.current),h&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then((function(n){var a=(e=n).getVideoTracks(),c=Object(s.a)(a,1)[0],i=c&&c.getCapabilities&&c.getCapabilities();i&&i.zoom&&c&&c.applyConstraints({advanced:[{zoom:i.zoom.min}]}),h.srcObject=e,h.setAttribute("playsinline","true"),h.play(),t=setTimeout(R,1e3)})).then((function(){C(!1)}));return function(){var n;null===(n=e)||void 0===n||n.getTracks().forEach((function(e){e.stop()})),clearTimeout(t)}}),[h]);return Object(u.jsxs)("div",{className:"scanner",children:[Object(u.jsx)("video",{className:"scanner__video ".concat(p?"scanner__video--hidden":""),ref:o}),E&&Object(u.jsx)("img",{className:"scanner__image",alt:"Uploaded image",src:E}),Object(u.jsx)("div",{className:"scanner__code",children:f}),Object(u.jsx)("div",{className:"scanner__error",children:N}),Object(u.jsxs)("div",{id:"scanner__buttons",children:[p&&Object(u.jsx)(l,{label:"Last opp bilde av QR code",onChange:function(e){S(""),O(""),T(e);var t=new Image;t.onload=function(){A(t,t.width,t.height)||S("Fant ikke QR kode i bilde. Pr\xf8v \xe5 holde mobilen litt lenger unna og ta et nytt bilde")},t.src=e},maxWidth:640,maxHeight:480,showImage:!1,buttonClassName:"scanner__buttons__background"}),f&&Object(u.jsx)("button",{className:"scanner__buttons__background",onClick:function(){return n(f)},children:"Lagre"}),Object(u.jsx)("button",{className:"scanner__buttons__background",onClick:function(){return n("")},children:"Avbryt"})]})]})}),g=function(e){var t=e.onChange,n=e.label,c=Object(a.useState)(!1),i=Object(s.a)(c,2),r=i[0],o=i[1];return Object(u.jsxs)("div",{className:"qr-scanner",children:[Object(u.jsx)("button",{onClick:function(){o(!0)},children:n}),r?Object(u.jsx)(b,{onChange:function(e){t(e),o(!1)}}):null]})};var h=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("a",{href:n,children:n}),Object(u.jsx)(g,{onChange:c,label:"scan qr"})]})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,64)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},m=n(63),v=n(45);m.a({dsn:"https://175cda1b995144fca72721c4adf324bb@o556988.ingest.sentry.io/5688577",integrations:[new v.a.BrowserTracing],tracesSampleRate:1}),r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root")),j()}},[[56,1,2]]]);
//# sourceMappingURL=main.8fc5a85c.chunk.js.map